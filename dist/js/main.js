var numSecTotal,secVisible,nomSec,numPag,disabled,classPag,numSec,numVista,idioma="es",asignatura="cs",tema="La civilizaci√≥n romana",animGen="fadeIn",animSec="fadeIn",numSeccion=0,dataPag={};function iniciaPortada(){$("#botonera a").each(function(i,e){$(e).off().click(function(ev){ev.preventDefault(),cargaVista(numVista="pag"+dosDigitos(i+1))})}),$("#inicial").show().addClass("animated "+animGen).on("animationend",function(){$("#inicial").off().removeClass("animated "+animGen)})}function iniciaPag(){1<$("#inicial .contenido .seccion").length?ocultaSecciones():($(".anterior").hide(),$(".siguiente").hide()),$("#inicial").show().addClass("animated "+animGen).on("animationend",function(){$("#inicial").removeClass("animated "+animGen),$(".volver").off().click(function(){numSeccion=0,cargaVista("portada")})})}function cargaSeccion(num){numSeccion=num,ocultaSecciones()}function ocultaSecciones(){numSecTotal=$("#inicial .contenido .seccion").length-1,secVisible=dosDigitos(numSeccion+1),$("#inicial .contenido .seccion").each(function(i,e){$.each($(e).attr("class").split(/\s+/),function(index,elemento){"sec"==elemento.substr(0,3)&&5==elemento.length&&(numSec=elemento.substr(3,2),nomSec=elemento)}),numSec==secVisible?$(this).show().addClass("animated "+animSec).on("animationend",function(){$("#inicial .contenido .seccion."+nomSec).removeClass("animated "+animSec)}):$(this).hide(),cargaTitulos()}),0<numSeccion?$(".anterior").off().removeClass("disabled").click(function(ev){ev.preventDefault(),cargaSeccion(numSeccion-1)}):$(".anterior").addClass("disabled").off(),numSecTotal<=numSeccion?$(".siguiente").addClass("disabled").off():$(".siguiente").off().removeClass("disabled").click(function(ev){ev.preventDefault(),cargaSeccion(numSeccion+1)})}function cargaVista(vista){$.get("views/"+vista+".html",function(html){$.each($("#inicial").attr("class").split(/\s+/),function(i,e){"container-fluid"!==e&&$("#inicial").removeClass(e)}),$("#inicial").addClass("view-"+vista).html(html).hide(),"portada"!==vista?($("#inicial").addClass("pagina"),$.getJSON("data/pag.json",function(data){dataPag=data,iniciaPag()})):$.getJSON("data/portada.json",function(data){dataPag=data,iniciaPortada()}),cargaTitulos()})}function cargaTitulos(){$("#titulo>#tema").html(tema)}function dosDigitos(num){return num<10?"0"+num:String(num)}$(function(){cargaVista("portada")});